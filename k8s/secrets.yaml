apiVersion: v1
kind: Secret
metadata:
  name: ai-seo-os-secrets
  namespace: ai-seo-os
type: Opaque
stringData:
  # Database (base64 encoded in production)
  DATABASE_URL: "postgresql://postgres:postgres@supabase-db:5432/ai_seo_os"
  
  # Google OAuth
  GOOGLE_CLIENT_ID: "your-google-client-id"
  GOOGLE_CLIENT_SECRET: "your-google-client-secret"
  
  # NextAuth
  NEXTAUTH_SECRET: "your-nextauth-secret-min-32-chars"
  NEXTAUTH_URL: "https://your-domain.com"
  
  # AI APIs
  GOOGLE_AI_API_KEY: "your-gemini-api-key"
  ANTHROPIC_API_KEY: "your-anthropic-api-key"
  OPENAI_API_KEY: "your-openai-api-key"
  
  # Encryption
  ENCRYPTION_KEY: "your-32-char-encryption-key"
  
  # n8n
  N8N_ENCRYPTION_KEY: "your-n8n-encryption-key"
  N8N_BASIC_AUTH_USER: "admin"
  N8N_BASIC_AUTH_PASSWORD: "admin"
  
  # Redis
  REDIS_URL: "redis://redis:6379"
  
  # Webhooks
  N8N_WEBHOOK_URL: "http://n8n:5678/webhook"
---
# External secret for production (using external-secrets operator)
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: ai-seo-os-external-secrets
  namespace: ai-seo-os
spec:
  refreshInterval: "1h"
  secretStoreRef:
    name: vault-backend
    kind: SecretStore
  target:
    name: ai-seo-os-secrets
    creationPolicy: Owner
  data:
    - secretKey: DATABASE_URL
      remoteRef:
        key: ai-seo-os/database
        property: url
    - secretKey: GOOGLE_AI_API_KEY
      remoteRef:
        key: ai-seo-os/ai
        property: google_api_key
    - secretKey: ENCRYPTION_KEY
      remoteRef:
        key: ai-seo-os/security
        property: encryption_key
